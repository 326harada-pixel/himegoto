<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#ff69b4" />
  <title>ヒメゴト</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7563803975606087" crossorigin="anonymous"></script>
</head>
<body>
  <header>
    <div style="height:64px"></div>
    <span id="pro-expiry-badge" class="badge">有料版：期限 ー</span>
  </header>

  <main>
    <section class="card">
      <h2>有料版の解除</h2>
      <input id="code-input" placeholder="例：HGT-XXXXXXX" inputmode="latin" />
      <div class="row">
        <button id="btn-verify-code" class="btn btn-pink">コード認証</button>
        <button id="btn-recalc" class="btn btn-ghost">残日数を再計算</button>
      </div>
      <p class="muted">※ 30 / 180 / 360 日チケットに対応。端末変更時はサポートへ。</p>
    </section>

    <section class="card">
      <h2>顧客を追加</h2>
      <input id="name-input" placeholder="例：太郎" />
      <div class="row">
        <button id="btn-add" class="btn btn-pink">顧客を追加</button>
        <span class="btn btn-ghost" style="pointer-events:none">無料版：残り <b id="free-left">5</b> 件</span>
      </div>
      <p class="muted">※ 無料枠に達すると追加できません（デフォルト5件・有料は無制限）</p>
    </section>

    <section class="card">
      <h2>顧客一覧</h2>
      <div id="customer-list"></div>
      <p class="muted">「選ぶ」で下の本文の {name} に差し込みます。</p>
    </section>

    <section class="card">
      <h2>メッセージ作成</h2>
      <p class="muted">本文（{name} が選択中の顧客名に置換されます）</p>
      <textarea id="msg-template">{name}さん、今日はありがとう！ また会えるの楽しみにしてるね♡</textarea>
      <div class="row">
        <button id="btn-insert-name" class="btn btn-ghost">{name} を挿入</button>
      </div>
      <div class="row" style="margin-top:10px">
        <button id="btn-share" class="btn btn-pink">共有（LINEに渡す）</button>
        <span class="btn btn-ghost" style="pointer-events:none">無料版：残り送信 <b id="send-left">5</b> 回</span>
      </div>
      <p class="muted">※ 共有は対応ブラウザのみ。無料版の送信回数は合計5回までです。</p>
    </section>

    <section class="card" style="text-align:center">
      <a class="btn btn-ghost" href="https://line.me/ti/p/_kahjcCa3-" target="_blank" rel="noopener">ご意見・ご要望はこちら</a>
      <a class="btn btn-ghost" href="terms.html" target="_blank" rel="noopener">利用規約</a>
    </section>

    <div style="height:90px"></div>
  </main>

  <div id="modal" class="modal-backdrop" aria-hidden="true">
    <div class="modal">
      <div class="spinner"></div>
      <p id="modal-text">認証を処理中です。少しお待ちください…</p>
      <button id="modal-cancel" class="btn btn-ghost">閉じる</button>
    </div>
  </div>

  <script src="app.js"></script>
  <script type="module" src="./firebase-auth-modal.js"></script>
</body>
</html>
