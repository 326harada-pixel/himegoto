<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ホーム - himegoto</title>
  <link rel="stylesheet" href="fix.css">

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

  <!-- Firebase Config -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD-gLP5rIErs678UewraA0vt59JbLZpzhU",
      authDomain: "himegoto-web.firebaseapp.com",
      projectId: "himegoto-web",
      storageBucket: "himegoto-web.firebasestorage.app",
      messagingSenderId: "368382081243",
      appId: "1:368382081243:web:09e3827701cbc6d1d2f4fe"
    };
    try { firebase.initializeApp(firebaseConfig); } catch(e) {}
  </script>

  <script src="header-loader.js"></script>
  <script src="common.js"></script>
  <script defer src="app-index.js"></script>
</head>
<body>
<main class="container">

  <!-- プレミアム残時間表示 -->
  <section class="premium-status">
    <p class="premium-status__text muted small">
      無制限残時間
      <span id="premiumDays">0</span>日
      <span id="premiumHours">0</span>時間
      <span id="premiumMinutes">0</span>分
    </p>
  </section>


  <!-- 顧客リスト -->
  <section class="card">
    <h2>顧客リスト　<span id="remainCustomers" class="muted"></span></h2>

    <div id="kanaTabs" class="kana-tabs" aria-label="顧客の並び替えタブ"></div>
    <div class="row">
      <input type="text" id="nameInput" placeholder="顧客名を入力">
      <button class="btn" id="addBtn">追加</button>
    </div>
    <p class="muted small">無料版は登録数5人までです。</p>
    <ul id="customerList" class="list"></ul>
  </section>

  <!-- メッセージ作成 -->
  <section class="card">
    <h2>メッセージ作成　<span id="remainShares" class="muted"></span></h2>
    <p class="muted">本文に {name} を入れると選択中の顧客名に差し替わります。</p>
    <textarea id="messageBox" placeholder="今日はありがとう{name}さん。来てくれて本当に助かった〜！この前の話の続きも聞きたいな✨ 次は金曜日に出勤してるから、もし{name}さんの都合が良かったらやけど、また来てくれたら嬉しい…待ってるね"></textarea>
    <div class="row">
      <button class="btn" id="insertName">{name} を挿入</button>
      <span class="badge">残り <span id="remain">9999</span></span>
      <button class="btn primary" id="shareBtn">共有</button>
    </div>
    <p class="muted small">無料版は1日送信5回までです。日本時間0:00にリセットされます。</p>
  </section>

  <!-- バックアップ -->
  <section class="card">
    <h2>バックアップと復元</h2>
    <div class="row">
      <button class="btn" id="makeString">文字列を作る</button>
      <button class="btn" id="copyString">コピー</button>
    </div>
    <textarea id="backupStringArea" placeholder="ここに長い文字列が表示／ペーストされます"></textarea>
    <button class="btn primary" id="restoreFromString">文字列から復元</button>
  </section>

</main>
</body>
</html>
